假设有这么一个场景：页面需要用户输入一个水果蔬菜类型，而这个类型在我们系统中又很重要，不能随便输入，只能输入我们系统中有的数据。在我们系统中将这些类型数据定义为基础数据记录在表中，大约有10万条左右。怎么方便的让用户输入而不出错呢？

1\)、如果数据比较少，一个页面下拉框就可以了；可是数据太多，直接下拉框显然不大合适。

2\)、某个类型可能专业的名字和用户习惯的不大一样，比如基础库里面有：红富士苹果/山东，对用户来说可能一般就说苹果，或者红富士，要搞一个按照规定标准的名字比较苦难。

基于上述的两点需求，比较合理的方案是：用户在输入框输入关键字，然后系统查询出匹配的显示在下来列表中，由用户在系统可选的列表中选择匹配的。

可是如何进行查询呢？

方法1：在db中通过 like '%苹果%' 的方式查询。这个方式很简单，不过有个问题是：like 会全表扫描，如果数据很多效率不高，同时如果查询比较频繁的话效率也是很低的，而且可能影响到数据库中其他的查询处理。

方法2：将数据去不加载到内存中放到map，然后遍历map遍历查找。这种方式虽然不会效率数据库资源了，但是占用的应用内存较多啊，虽然内存查找比较快，但是在内存中防一个大容量的数据显然也不是很合理。特别对于java这种基于jvm的，过多了占用内存，可能会影响应用的其他一些功能，而且容易出现oom等异常

方法3：是否可以将这种特殊查询独立出来缓存？ 现在大部分缓存都是key-value形式，模糊查询的效率都不是很高。

方法4：类似于搜索引擎，输入关机字直接检索？

最开始的时候我们是用方法2进行缓存的，但是系统运行很长时间后，是不是的需要关注系统的内存使用情况，容易造成问题。后面我们就慢慢的相把他抽取出来，形成独立的模块。通过通用的解决方案实现。想到了方法4，而后慢慢的了解下了lucene、solr等。

下面就对企业搜索相关的知识做些介绍：

* Lucene
* Solr
* ElasticSearch



